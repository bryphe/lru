<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="Up" href="Lru.F.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Lru" rel="Chapter" href="Lru.html"><link title="Functional LRU map" rel="Section" href="#1_FunctionalLRUmap">
<link title="Access by k" rel="Section" href="#1_Accessbyk">
<link title="Access to least-recently-used bindings" rel="Section" href="#1_Accesstoleastrecentlyusedbindings">
<link title="Aggregate access" rel="Section" href="#1_Aggregateaccess">
<link title="Conversions" rel="Section" href="#1_Conversions">
<link title="Pretty-printing" rel="Section" href="#1_Prettyprinting">
<title>Lru.F.Make</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="Lru.F.html" title="Lru.F">Up</a>
&nbsp;</div>
<h1>Functor <a href="type_Lru.F.Make.html">Lru.F.Make</a></h1>

<pre><span class="keyword">module</span> Make: <div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">K</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="Lru.Ordered.html">Lru.Ordered</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">V</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="Lru.Weighted.html">Lru.Weighted</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><code class="type"><a href="Lru.F.S.html">S</a></code><code class="type">  with type k = K.t and type v = V.t</code></div></div></pre><div class="info module top">
<code class="code"><span class="constructor">Make</span>(<span class="constructor">K</span>)(<span class="constructor">V</span>)</code> is the <a href="Lru.F.S.html">LRU map</a> with bindings <code class="code"><span class="constructor">K</span>.t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="constructor">V</span>.t</code>. The weight
      of an individual binding is the <a href="Lru.Weighted.html#VALweight"><code class="code"><span class="constructor">Lru</span>.<span class="constructor">Weighted</span>.weight</code></a> of <code class="code"><span class="constructor">V</span>.t</code>.<br>
</div>
<table border="0" cellpadding="3" width="100%">
<tr>
<td align="left" valign="top" width="1%%"><b>Parameters: </b></td>
<td>
<table class="paramstable">
<tr>
<td align="center" valign="top" width="15%">
<code>K</code></td>
<td align="center" valign="top">:</td>
<td><code class="type"><a href="Lru.Ordered.html">Lru.Ordered</a></code>
<tr>
<td align="center" valign="top" width="15%">
<code>V</code></td>
<td align="center" valign="top">:</td>
<td><code class="type"><a href="Lru.Weighted.html">Lru.Weighted</a></code>
</table>
</td>
</tr>
</table>
<hr width="100%">
<br>
<h1 id="1_FunctionalLRUmap">Functional LRU map</h1><br>

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> </pre>
<div class="info ">
A map.<br>
</div>


<pre><span id="TYPEk"><span class="keyword">type</span> <code class="type"></code>k</span> </pre>
<div class="info ">
Keys in <a href="Lru.F.S.html#TYPEt"><code class="code">t</code></a>.<br>
</div>


<pre><span id="TYPEv"><span class="keyword">type</span> <code class="type"></code>v</span> </pre>
<div class="info ">
Values in <a href="Lru.F.S.html#TYPEt"><code class="code">t</code></a>.<br>
</div>


<pre><span id="VALempty"><span class="keyword">val</span> empty</span> : <code class="type">int -> <a href="Lru.F.S.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">empty&nbsp;cap</code> is an empty map with capacity <code class="code">cap</code>.<br>
</div>

<pre><span id="VALis_empty"><span class="keyword">val</span> is_empty</span> : <code class="type"><a href="Lru.F.S.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<code class="code">is_empty&nbsp;t</code> is <code class="code"><span class="keyword">true</span></code> iff <code class="code">t</code> is empty.<br>
</div>

<pre><span id="VALitems"><span class="keyword">val</span> items</span> : <code class="type"><a href="Lru.F.S.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<code class="code">items&nbsp;t</code> is the number of bindings in <code class="code">t</code>.<br>
</div>

<pre><span id="VALsize"><span class="keyword">val</span> size</span> : <code class="type"><a href="Lru.F.S.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<code class="code">size&nbsp;t</code> is the combined weight of bindings in <code class="code">t</code>.<br>
</div>

<pre><span id="VALcapacity"><span class="keyword">val</span> capacity</span> : <code class="type"><a href="Lru.F.S.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<code class="code">capacity&nbsp;t</code> is the maximum combined weight of bindings this map will
        hold before they start being discarded in least-recently-used order.<br>
</div>

<pre><span id="VALresize"><span class="keyword">val</span> resize</span> : <code class="type">int -> <a href="Lru.F.S.html#TYPEt">t</a> -> <a href="Lru.F.S.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">resize&nbsp;cap&nbsp;t</code> is a map with capacity <code class="code">cap</code>, holding the same bindings
        as <code class="code">t</code>. When the <a href="Lru.F.S.html#VALsize"><code class="code">size</code></a> of <code class="code">t</code> is greater than <code class="code">cap</code>,
        least-recently-used bindings are discarded to fit <code class="code">cap</code>.<br>
</div>
<br>
<h1 id="1_Accessbyk">Access by <code class="code">k</code></h1><br>

<pre><span id="VALmem"><span class="keyword">val</span> mem</span> : <code class="type"><a href="Lru.F.S.html#TYPEk">k</a> -> <a href="Lru.F.S.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<code class="code">mem&nbsp;k&nbsp;t</code> is <code class="code"><span class="keyword">true</span></code> iff <code class="code">k</code> is bound in <code class="code">t</code>.<br>
</div>

<pre><span id="VALfind"><span class="keyword">val</span> find</span> : <code class="type"><a href="Lru.F.S.html#TYPEk">k</a> -> <a href="Lru.F.S.html#TYPEt">t</a> -> (<a href="Lru.F.S.html#TYPEv">v</a> * <a href="Lru.F.S.html#TYPEt">t</a>) option</code></pre><div class="info ">
<code class="code">find&nbsp;k&nbsp;t</code> is <code class="code">(v,&nbsp;t')</code>, where <code class="code">v</code> is the value bound to <code class="code">k</code>
        and <code class="code">t'</code> is a map where the binding <code class="code">k&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;v</code> has been promoted to
        most-recently-used. When <code class="code">k</code> is not bound in <code class="code">t</code>, the result in <code class="code"><span class="constructor">None</span></code>.<br>
</div>

<pre><span id="VALadd"><span class="keyword">val</span> add</span> : <code class="type"><a href="Lru.F.S.html#TYPEk">k</a> -> <a href="Lru.F.S.html#TYPEv">v</a> -> <a href="Lru.F.S.html#TYPEt">t</a> -> <a href="Lru.F.S.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">add&nbsp;k&nbsp;v&nbsp;t</code> is <code class="code">t</code> with the binding <code class="code">k&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;v</code>. If <code class="code">k</code> is alread bound in
        <code class="code">t</code>, the old binding is replaced. In either case, the binding <code class="code">k&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;v</code>
        is the most-recently-used.<br>
</div>

<pre><span id="VALremove"><span class="keyword">val</span> remove</span> : <code class="type"><a href="Lru.F.S.html#TYPEk">k</a> -> <a href="Lru.F.S.html#TYPEt">t</a> -> <a href="Lru.F.S.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">remove&nbsp;k&nbsp;t</code> is <code class="code">t</code> without the binding for <code class="code">k</code>, or <code class="code">t</code>, if <code class="code">k</code> is not
        bound in <code class="code">t</code>.<br>
</div>

<pre><span id="VALunadd"><span class="keyword">val</span> unadd</span> : <code class="type"><a href="Lru.F.S.html#TYPEk">k</a> -> <a href="Lru.F.S.html#TYPEt">t</a> -> (<a href="Lru.F.S.html#TYPEv">v</a> * <a href="Lru.F.S.html#TYPEt">t</a>) option</code></pre><div class="info ">
<code class="code">unadd&nbsp;k&nbsp;t</code> is <code class="code">(v,&nbsp;t')</code>, where <code class="code">v</code> is the value bound to <code class="code">k</code>, and <code class="code">t'</code>
        is <code class="code">t</code> without the binding <code class="code">k&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t</code>, or <code class="code"><span class="constructor">None</span></code>, if <code class="code">k</code> is not bound in
        <code class="code">t</code>.<br>
</div>
<br>
<h1 id="1_Accesstoleastrecentlyusedbindings">Access to least-recently-used bindings</h1><br>

<pre><span id="VALlru"><span class="keyword">val</span> lru</span> : <code class="type"><a href="Lru.F.S.html#TYPEt">t</a> -> (<a href="Lru.F.S.html#TYPEk">k</a> * <a href="Lru.F.S.html#TYPEv">v</a>) option</code></pre><div class="info ">
<code class="code">lru&nbsp;t</code> is the least-recently-used binding in <code class="code">t</code>, or <code class="code"><span class="constructor">None</span></code>, when <code class="code">t</code>
        is empty.<br>
</div>

<pre><span id="VALdrop_lru"><span class="keyword">val</span> drop_lru</span> : <code class="type"><a href="Lru.F.S.html#TYPEt">t</a> -> <a href="Lru.F.S.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">drop_lru&nbsp;t</code> is <code class="code">t</code> without the binding <code class="code">lru&nbsp;t</code>, or <code class="code">t</code>, when <code class="code">t</code> is
        empty.<br>
</div>

<pre><span id="VALpop_lru"><span class="keyword">val</span> pop_lru</span> : <code class="type"><a href="Lru.F.S.html#TYPEt">t</a> -> ((<a href="Lru.F.S.html#TYPEk">k</a> * <a href="Lru.F.S.html#TYPEv">v</a>) * <a href="Lru.F.S.html#TYPEt">t</a>) option</code></pre><div class="info ">
<code class="code">pop_lru&nbsp;t</code> is <code class="code">((k,&nbsp;v),&nbsp;t'</code>, where <code class="code">(k,&nbsp;v)</code> is <code class="code">lru&nbsp;t</code>, and <code class="code">t'</code> is <code class="code">t</code>
        without that binding.<br>
</div>
<br>
<h1 id="1_Aggregateaccess">Aggregate access</h1><br>

<pre><span id="VALfold"><span class="keyword">val</span> fold</span> : <code class="type">(<a href="Lru.F.S.html#TYPEk">k</a> -> <a href="Lru.F.S.html#TYPEv">v</a> -> 'a -> 'a) -> 'a -> <a href="Lru.F.S.html#TYPEt">t</a> -> 'a</code></pre><div class="info ">
<code class="code">fold&nbsp;f&nbsp;z&nbsp;t</code> is <code class="code">f&nbsp;k0&nbsp;v0&nbsp;(...&nbsp;(f&nbsp;kn&nbsp;vn&nbsp;z))</code>. Binding are folded over in
        key-increasing order.<br>
</div>

<pre><span id="VALiter"><span class="keyword">val</span> iter</span> : <code class="type">(<a href="Lru.F.S.html#TYPEk">k</a> -> <a href="Lru.F.S.html#TYPEv">v</a> -> unit) -> <a href="Lru.F.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<code class="code">iter&nbsp;f&nbsp;t</code> applies <code class="code">f</code> to all the bindings in <code class="code">t</code> in key-increasing
        order<br>
</div>
<br>
<h1 id="1_Conversions">Conversions</h1><br>

<pre><span id="VALto_list"><span class="keyword">val</span> to_list</span> : <code class="type"><a href="Lru.F.S.html#TYPEt">t</a> -> (<a href="Lru.F.S.html#TYPEk">k</a> * <a href="Lru.F.S.html#TYPEv">v</a>) list</code></pre><div class="info ">
<code class="code">to_list&nbsp;t</code> are the bindings in <code class="code">t</code> in key-increasing order.<br>
</div>

<pre><span id="VALof_list"><span class="keyword">val</span> of_list</span> : <code class="type">?cap:int -> (<a href="Lru.F.S.html#TYPEk">k</a> * <a href="Lru.F.S.html#TYPEv">v</a>) list -> <a href="Lru.F.S.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">of_list&nbsp;kvs</code> is a map with the bindings from <code class="code">kvs</code>. If there are
        multiple bindings for the same <code class="code">k</code>, it is unspecified which one is
        chosen.
<p>

        <code class="code">~cap</code> is the capacity of the new map. It defaults to the total weight
        of bindings in <code class="code">kvs</code>. If given, and smaller than then total weight of
        <code class="code">v</code>s, bindings are discarded from the left of the list.<br>
</div>
<br>
<h1 id="1_Prettyprinting">Pretty-printing</h1><br>

<pre><span id="VALpp"><span class="keyword">val</span> pp</span> : <code class="type">?pp_size:(Format.formatter -> int * int -> unit) -><br>       ?sep:(Format.formatter -> unit -> unit) -><br>       (Format.formatter -> <a href="Lru.F.S.html#TYPEk">k</a> * <a href="Lru.F.S.html#TYPEv">v</a> -> unit) -><br>       Format.formatter -> <a href="Lru.F.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<code class="code">pp&nbsp;~pp_size&nbsp;~sep&nbsp;pp_kv&nbsp;ppf&nbsp;t</code> pretty-prints <code class="code">t</code> to <code class="code">ppf</code>, using <code class="code">pp_kv</code>
        to print the bindings, <code class="code">~sep</code> to separate them, and <code class="code">~pp_size</code> to print
        the <a href="Lru.F.S.html#VALsize"><code class="code">size</code></a> and <a href="Lru.F.S.html#VALcapacity"><code class="code">capacity</code></a>. <code class="code">~sep</code> and <code class="code">~pp_size</code>
        default to unspecified printers.<br>
</div>
</body></html>